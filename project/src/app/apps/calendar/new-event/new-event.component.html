<div class="mat-dialog-title" fxLayout="row" fxLayoutAlign="space-between center">
  <label mat-label>{{fullDate}}</label>
  <button mat-fab color="warn" mat-dialog-close><mat-icon>close</mat-icon></button>
</div>
<form [formGroup]="formNewEvent" fxFill>
  <div>
    <p mat-label>Adicionar evento</p>
  </div>
  <mat-card>
    <div>
      <mat-form-field fxFill>
        <input matInput formControlName="title" placeholder="Título" required>
        <mat-error *ngIf="formNewEvent.get('title').touched && formNewEvent.get('title').hasError('required')">Obrigatório!</mat-error>
      </mat-form-field>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <mat-form-field fxFlex="24">
        <input matInput formControlName="startDay" [value]="formNewEvent.value.startDay" placeholder="Dia de Início"
          readonly>
      </mat-form-field>
      <mat-form-field fxFlex="24">
        <input matInput type="time" formControlName="startHour" placeholder="Hora de Início">
      </mat-form-field>
      <mat-form-field fxFlex="24">
        <input matInput formControlName="endDay" [matDatepicker]="endDay" placeholder="Dia de Término" readonly>
        <mat-datepicker-toggle matSuffix [for]="endDay"></mat-datepicker-toggle>
        <mat-datepicker #endDay color="primary" disabled="false"></mat-datepicker>
      </mat-form-field>
      <mat-form-field fxFlex="24">
        <input matInput type="time" formControlName="endHour" placeholder="Hora de Término">
      </mat-form-field>
    </div>
    <div fxLayout="row" fxFill>
      <mat-form-field fxFill>
        <input matInput formControlName="local" placeholder="Localização">
      </mat-form-field>
    </div>
    <div fxLayout="row">
      <mat-form-field fxFill>
        <textarea matInput #message maxlength="128" matTextareaAutosize placeholder="Descrição" formControlName="description"></textarea>
        <mat-hint align="end">{{message.value.length}} / 128</mat-hint>
      </mat-form-field>
    </div>
    <div mat-dialog-actions fxLayoutAlign="end center">
      <button mat-raised-button color="primary" [disabled]="!formNewEvent.valid">Salvar</button>
    </div>
  </mat-card>
</form>
<div >
  <div *ngIf="savedEvents.length != 0" class="mat-card-event">
    <p mat-label><strong>Editar eventos</strong></p>
  </div>
  <mat-accordion>
    <mat-expansion-panel *ngFor="let event of savedEvents">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{event.title}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div>
        <div>
          <mat-form-field fxFill>
            <input matInput placeholder="Título" [value]="event.title" required>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="space-between center">
          <mat-form-field fxFlex="24">
            <input matInput [value]="event.startDay" placeholder="Dia de Início" readonly>
          </mat-form-field>
          <mat-form-field fxFlex="24">
            <input matInput type="time" [value]="event.startHour" placeholder="Hora de Início">
          </mat-form-field>
          <mat-form-field fxFlex="24">
            <input matInput [matDatepicker]="_endDay" [value]="toDate(event.endDay)" placeholder="Dia de Término"
              readonly>
            <mat-datepicker-toggle matSuffix [for]="_endDay"></mat-datepicker-toggle>
            <mat-datepicker #_endDay color="primary"></mat-datepicker>
          </mat-form-field>
          <mat-form-field fxFlex="24">
            <input matInput type="time" [value]="event.endHour" placeholder="Hora de Término">
          </mat-form-field>
        </div>
        <div fxLayout="row" fxFill>
          <mat-form-field fxFill>
            <input matInput [value]="event.local" placeholder="Localização">
          </mat-form-field>
        </div>
        <div fxLayout="row">
          <mat-form-field fxFill>
            <textarea matInput #message maxlength="128" [value]="event.description" matTextareaAutosize placeholder="Descrição"></textarea>
            <mat-hint align="end">{{message.value.length}} / 128</mat-hint>
          </mat-form-field>
        </div>
      </div>
      <div class="mat-card-event" mat-dialog-actions fxLayout="row" fxLayoutAlign="end center" fxFill>
        <button mat-raised-button color="primary">Salvar</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
